webpackJsonp([17],{"+7tn":function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=s("Muz9"),o=s.n(t),n=s("Cz8s");o.a.defaults.withCredentials=!0;var i={data:function(){return{value1:!0,value2:!1,img:"",yan:"",bool2:"false",username:"",password:"",val:""}},components:{Zi:n.a},computed:{},mounted:function(){this.reset()},created:function(){},methods:{reset:function(){var e=this;o.a.post("https://elm.cangdu.org/v1/captchas").then(function(a){e.img=a.data.code})},que:function(){this.bool2=!1},login:function(){var e=this;o.a.post("https://elm.cangdu.org/v2/login",{captcha_code:this.yan,password:this.password,username:this.username}).then(function(a){if(0==a.data.status)""!==e.password&&""!==e.password&&""!==e.username&&(e.bool2=!0,e.val=a.data.message);else{var s={username:a.data.username,user_id:a.data.user_id,login:!0};e.$store.commit("add",s),e.$router.push("/home")}}),""==this.username?(this.bool2=!0,this.val="请输入手机号/邮箱/用户名"):""==this.password?(this.val="请输入密码",this.bool2=!0):""==this.yan&&(this.val="请输入验证码",this.bool2=!0)}}},r={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",[s("Zi",{attrs:{goback:"true",data:"<",con:"密码登陆",bool1:"false",main:""}}),e._v(" "),s("div",{staticClass:"cont"},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"账号"},domProps:{value:e.username},on:{input:function(a){a.target.composing||(e.username=a.target.value)}}})]),e._v(" "),s("div",[s("input",{directives:[{name:"show",rawName:"v-show",value:!e.value2,expression:"!value2"},{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:e.password},on:{input:function(a){a.target.composing||(e.password=a.target.value)}}}),e._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:e.value2,expression:"value2"},{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"密码"},domProps:{value:e.password},on:{input:function(a){a.target.composing||(e.password=a.target.value)}}}),e._v(" "),s("div",[s("mt-switch",{model:{value:e.value2,callback:function(a){e.value2=a},expression:"value2"}})],1)]),e._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.yan,expression:"yan"}],attrs:{type:"text",placeholder:"验证码"},domProps:{value:e.yan},on:{input:function(a){a.target.composing||(e.yan=a.target.value)}}}),e._v(" "),s("div",{staticClass:"yan",staticStyle:{"margin-top":"-0.4rem"}},[s("span",{staticClass:"span"},[s("img",{staticStyle:{"margin-left":"0.1rem"},attrs:{src:e.img,alt:""}})]),e._v(" "),s("span",[s("p",{on:{click:e.reset}},[e._v("看不清")]),e._v(" "),s("p",{staticClass:"reset",on:{click:e.reset}},[e._v("换一种")])])])])]),e._v(" "),s("p",{staticClass:"wen"},[e._v("温馨提示：未注册过的账号，登录时将自动注册")]),e._v(" "),s("p",{staticClass:"wen"},[e._v("注册过的用户可凭账号密码登录")]),e._v(" "),s("button",{on:{click:e.login}},[e._v("登录")]),e._v(" "),s("router-link",{staticClass:"reset reset1",attrs:{to:"/forget",tag:"p"}},[e._v("重置密码?")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.bool2,expression:"bool2==true"}],staticClass:"tishi"},[e._m(0),e._v(" "),s("p",{staticClass:"tishi_p"},[e._v(" "+e._s(e.val))]),e._v(" "),s("button",{staticClass:"que",on:{click:e.que}},[e._v("确认")])])],1)},staticRenderFns:[function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"tishi2"},[a("span",{staticClass:"tishi_s1"}),a("span",{staticClass:"tishi_s2"})])}]};var l=s("C7Lr")(i,r,!1,function(e){s("I/ha")},"data-v-1b8793ef",null);a.default=l.exports},"I/ha":function(e,a){}});
//# sourceMappingURL=17.7eedd3ad457459865181.js.map